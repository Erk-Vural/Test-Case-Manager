{% extends 'base.html' %}
{% load crispy_forms_filters %}

{% block head %}
    <title>Manage Case | Test Case Manager</title>
{% endblock %}

{% block content %}

    {% if cases.0.id != NULL %}
        <h1 class="text-center"><em><strong>Issue : </strong></em> {{ cases.0.issue }} </h1>
    {% endif %}

    <div class="case-manage-content">
        <!--Update Cases-->
        {% for form in forms %}
            <hr>
            <form action="" method="post" class="text-center mb-5 save-form">
                {% csrf_token %}
                <br>
                <div class="row w-100">
                    <div class="col p-1">
                        {{ form.title | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.summary | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.steps | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.expected_result | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.actual_result | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.notes | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.logs | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.database_records | as_crispy_field }}
                    </div>
                    <div class="col p-1">
                        {{ form.issue | as_crispy_field }}
                        {{ form.test_number | as_crispy_field }}
                        {{ form.status | as_crispy_field }}
                        <a href="{% url 'case_delete' form.obj_id.value %}"
                           class="btn bg-dark text-light  p-1">Delete</a>
                    </div>
                </div>
                <br>
            </form>
        {% endfor %}

        <!--Empty Case-->
        <hr>
        <form action="../../new/{{ pk }}/" method="post" class="text-center mb-5 empty-form">
            {% csrf_token %}
            <div class="row w-100">
                <div class="col p-1">
                    {{ form.title | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.summary | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.steps | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.expected_result | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.actual_result | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.notes | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.logs | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.database_records | as_crispy_field }}
                </div>
                <div class="col p-1">
                    {{ form.issue | as_crispy_field }}
                    {{ form.test_number | as_crispy_field }}
                    {{ form.status | as_crispy_field }}
                </div>
            </div>
        </form>

    </div>
{% endblock %}